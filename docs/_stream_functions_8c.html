<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADI iSensor FX3 Firmware: C:/Users/anolan3/Documents/iSensor-FX3-Firmware/StreamFunctions.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Analog-Devices-Logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADI iSensor FX3 Firmware
   &#160;<span id="projectnumber">v2.0.3-pub</span>
   </div>
   <div id="projectbrief">Firmware for the Analog Devices iSensor FX3 Evaluation Platform. This firmware is built upon libraries provided by Cypress, and can be compiled using the Cypress EZ USB Suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">C:/Users/anolan3/Documents/iSensor-FX3-Firmware/StreamFunctions.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains all functions used to start/stop data streams from a DUT.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_stream_functions_8h_source.html">StreamFunctions.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7befd6a3d6f0785d3ee11f37bef66c54"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#a7befd6a3d6f0785d3ee11f37bef66c54">AdiStopAnyDataStream</a> ()</td></tr>
<tr class="memdesc:a7befd6a3d6f0785d3ee11f37bef66c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets a flag to notify the streaming thread that the user requested to cancel streaming.  <a href="#a7befd6a3d6f0785d3ee11f37bef66c54">More...</a><br /></td></tr>
<tr class="separator:a7befd6a3d6f0785d3ee11f37bef66c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44b20c4d8d2c75500c589779963ae8ba"><td class="memItemLeft" align="right" valign="top">CyBool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#a44b20c4d8d2c75500c589779963ae8ba">AdiPrintStreamState</a> ()</td></tr>
<tr class="memdesc:a44b20c4d8d2c75500c589779963ae8ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function prints all the stream state variables to the terminal if VERBOSE_MODE is defined.  <a href="#a44b20c4d8d2c75500c589779963ae8ba">More...</a><br /></td></tr>
<tr class="separator:a44b20c4d8d2c75500c589779963ae8ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad691192687ea7f683ced5ecdc7d96386"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#ad691192687ea7f683ced5ecdc7d96386">AdiTransferStreamStart</a> ()</td></tr>
<tr class="memdesc:ad691192687ea7f683ced5ecdc7d96386"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a protocol agnostic SPI transfer stream.  <a href="#ad691192687ea7f683ced5ecdc7d96386">More...</a><br /></td></tr>
<tr class="separator:ad691192687ea7f683ced5ecdc7d96386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21bc8ca5ba28fea850189fd9cde3b210"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#a21bc8ca5ba28fea850189fd9cde3b210">AdiTransferStreamFinished</a> ()</td></tr>
<tr class="memdesc:a21bc8ca5ba28fea850189fd9cde3b210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up a protocol agnostic transfer stream.  <a href="#a21bc8ca5ba28fea850189fd9cde3b210">More...</a><br /></td></tr>
<tr class="separator:a21bc8ca5ba28fea850189fd9cde3b210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f3cda6e0c22b4a59caa5a0f1c1bdd7"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#a92f3cda6e0c22b4a59caa5a0f1c1bdd7">AdiRealTimeStreamStart</a> ()</td></tr>
<tr class="memdesc:a92f3cda6e0c22b4a59caa5a0f1c1bdd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a real time stream for ADcmXLx021 DUTs.  <a href="#a92f3cda6e0c22b4a59caa5a0f1c1bdd7">More...</a><br /></td></tr>
<tr class="separator:a92f3cda6e0c22b4a59caa5a0f1c1bdd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c55d5495a47d0c63b1e193b9f704b71"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#a4c55d5495a47d0c63b1e193b9f704b71">AdiRealTimeStreamFinished</a> ()</td></tr>
<tr class="memdesc:a4c55d5495a47d0c63b1e193b9f704b71"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function cleans up resources allocated for a real time stream.  <a href="#a4c55d5495a47d0c63b1e193b9f704b71">More...</a><br /></td></tr>
<tr class="separator:a4c55d5495a47d0c63b1e193b9f704b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a486f4434dc95c29845e6ee27fe259a9e"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#a486f4434dc95c29845e6ee27fe259a9e">AdiBurstStreamStart</a> ()</td></tr>
<tr class="memdesc:a486f4434dc95c29845e6ee27fe259a9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a burst stream for IMU products.  <a href="#a486f4434dc95c29845e6ee27fe259a9e">More...</a><br /></td></tr>
<tr class="separator:a486f4434dc95c29845e6ee27fe259a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5735bbe4e20ff7d3aa8e12783da536c7"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#a5735bbe4e20ff7d3aa8e12783da536c7">AdiBurstStreamFinished</a> ()</td></tr>
<tr class="memdesc:a5735bbe4e20ff7d3aa8e12783da536c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up resources allocated for a IMU burst stream.  <a href="#a5735bbe4e20ff7d3aa8e12783da536c7">More...</a><br /></td></tr>
<tr class="separator:a5735bbe4e20ff7d3aa8e12783da536c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20cb57e4c12bf480ac0c17ba9292a31"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#ae20cb57e4c12bf480ac0c17ba9292a31">AdiGenericStreamStart</a> ()</td></tr>
<tr class="memdesc:ae20cb57e4c12bf480ac0c17ba9292a31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a register read/write stream, with options to trigger on a data ready.  <a href="#ae20cb57e4c12bf480ac0c17ba9292a31">More...</a><br /></td></tr>
<tr class="separator:ae20cb57e4c12bf480ac0c17ba9292a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5f9f50936a8c62c3a47925ada503947"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#ab5f9f50936a8c62c3a47925ada503947">AdiGenericStreamFinished</a> ()</td></tr>
<tr class="memdesc:ab5f9f50936a8c62c3a47925ada503947"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function cleans up after a generic stream and notifies the host that the cancel operation was successful if requested.  <a href="#ab5f9f50936a8c62c3a47925ada503947">More...</a><br /></td></tr>
<tr class="separator:ab5f9f50936a8c62c3a47925ada503947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ae5cdd0919f6acf4fbfe230bbc7dd8"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#a45ae5cdd0919f6acf4fbfe230bbc7dd8">AdiConfigureDrPin</a> ()</td></tr>
<tr class="memdesc:a45ae5cdd0919f6acf4fbfe230bbc7dd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the data ready pin as an input with edge interrupt triggering enabled.  <a href="#a45ae5cdd0919f6acf4fbfe230bbc7dd8">More...</a><br /></td></tr>
<tr class="separator:a45ae5cdd0919f6acf4fbfe230bbc7dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae9953443991a0dc77f0fa3cc0b0576a6"><td class="memItemLeft" align="right" valign="top">CyU3PEvent&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#ae9953443991a0dc77f0fa3cc0b0576a6">EventHandler</a></td></tr>
<tr class="separator:ae9953443991a0dc77f0fa3cc0b0576a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8aab9e931f1efc7d59b1fa758ee4454"><td class="memItemLeft" align="right" valign="top">CyU3PDmaChannel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#ae8aab9e931f1efc7d59b1fa758ee4454">StreamingChannel</a></td></tr>
<tr class="separator:ae8aab9e931f1efc7d59b1fa758ee4454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af72f4fb79889fd9a2a5ef1e62e72c738"><td class="memItemLeft" align="right" valign="top">CyU3PDmaChannel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#af72f4fb79889fd9a2a5ef1e62e72c738">MemoryToSPI</a></td></tr>
<tr class="separator:af72f4fb79889fd9a2a5ef1e62e72c738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692aacac4ebd741e3b0d75c4ab3b19a3"><td class="memItemLeft" align="right" valign="top"><a id="a692aacac4ebd741e3b0d75c4ab3b19a3"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>USBBuffer</b> []</td></tr>
<tr class="separator:a692aacac4ebd741e3b0d75c4ab3b19a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d04d1f2fa3acb22c90fec4a828c6bd3"><td class="memItemLeft" align="right" valign="top"><a id="a2d04d1f2fa3acb22c90fec4a828c6bd3"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>BulkBuffer</b> []</td></tr>
<tr class="separator:a2d04d1f2fa3acb22c90fec4a828c6bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed44eef5876251be24e1b418ea64590"><td class="memItemLeft" align="right" valign="top">CyU3PDmaBuffer_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#aeed44eef5876251be24e1b418ea64590">SpiDmaBuffer</a></td></tr>
<tr class="separator:aeed44eef5876251be24e1b418ea64590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb5735a48942c795b3be33a17c14eb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_board_state.html">BoardState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#aadb5735a48942c795b3be33a17c14eb4">FX3State</a></td></tr>
<tr class="separator:aadb5735a48942c795b3be33a17c14eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588a5b1b27013a3c880a0c031d6b7f3a"><td class="memItemLeft" align="right" valign="top">volatile CyBool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#a588a5b1b27013a3c880a0c031d6b7f3a">KillStreamEarly</a></td></tr>
<tr class="separator:a588a5b1b27013a3c880a0c031d6b7f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98693015cd59e2346ce44ac5af02a4c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_stream_state.html">StreamState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_functions_8c.html#a98693015cd59e2346ce44ac5af02a4c0">StreamThreadState</a></td></tr>
<tr class="separator:a98693015cd59e2346ce44ac5af02a4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains all functions used to start/stop data streams from a DUT. </p>
<p>Copyright (c) Analog Devices Inc, 2018 - 2019 All Rights Reserved.</p>
<p>THIS SOFTWARE UTILIZES LIBRARIES DEVELOPED AND MAINTAINED BY CYPRESS INC. THE LICENSE INCLUDED IN THIS REPOSITORY DOES NOT EXTEND TO CYPRESS PROPERTY.</p>
<p>Use of this file is governed by the license agreement included in this repository.</p>
<dl class="section date"><dt>Date</dt><dd>8/1/2019 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>A. Nolan (<a href="#" onclick="location.href='mai'+'lto:'+'ale'+'x.'+'nol'+'an'+'@an'+'al'+'og.'+'co'+'m'; return false;">alex.<span style="display: none;">.nosp@m.</span>nola<span style="display: none;">.nosp@m.</span>n@ana<span style="display: none;">.nosp@m.</span>log.<span style="display: none;">.nosp@m.</span>com</a>) </dd>
<dd>
J. Chong (<a href="#" onclick="location.href='mai'+'lto:'+'jua'+'n.'+'cho'+'ng'+'@an'+'al'+'og.'+'co'+'m'; return false;">juan.<span style="display: none;">.nosp@m.</span>chon<span style="display: none;">.nosp@m.</span>g@ana<span style="display: none;">.nosp@m.</span>log.<span style="display: none;">.nosp@m.</span>com</a>) </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a5735bbe4e20ff7d3aa8e12783da536c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5735bbe4e20ff7d3aa8e12783da536c7">&#9670;&nbsp;</a></span>AdiBurstStreamFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiBurstStreamFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans up resources allocated for a IMU burst stream. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of the cancel operation.</dd></dl>
<p>This function cleans up after a burst stream by resetting the SPI port and notifying the host that the cancel operation was successful. </p>

</div>
</div>
<a id="a486f4434dc95c29845e6ee27fe259a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a486f4434dc95c29845e6ee27fe259a9e">&#9670;&nbsp;</a></span>AdiBurstStreamStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiBurstStreamStart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a burst stream for IMU products. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of starting a real-time stream.</dd></dl>
<p>This function kicks off a burst stream by configuring a pin interrupt on a user-specified pin, configuring the SPI and USB DMAs to handle the incoming data, and enabling the streaming function.It can be configured for "Blackfin" or "ADuC" burst using vendor requests. </p>

</div>
</div>
<a id="a45ae5cdd0919f6acf4fbfe230bbc7dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45ae5cdd0919f6acf4fbfe230bbc7dd8">&#9670;&nbsp;</a></span>AdiConfigureDrPin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiConfigureDrPin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the data ready pin as an input with edge interrupt triggering enabled. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of the pin configure operation.</dd></dl>
<p>Configures the data ready pin (FX3State.DrPin) as an input, with edge interrupts enabled based on FX3State.DrPolarity. It is advisable to disable the GPIO interrupt vector before calling this function. If you do not, the GPIO ISR may be triggered. </p>

</div>
</div>
<a id="ab5f9f50936a8c62c3a47925ada503947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5f9f50936a8c62c3a47925ada503947">&#9670;&nbsp;</a></span>AdiGenericStreamFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiGenericStreamFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function cleans up after a generic stream and notifies the host that the cancel operation was successful if requested. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of the cancel operation.</dd></dl>
<p>This function must be explicitly invoked via a vendor command after the PC has finished reading all data from the FX3. This is done to ensure data consistency and prevent a race condition between the FX3 API and the firmware. </p>

</div>
</div>
<a id="ae20cb57e4c12bf480ac0c17ba9292a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20cb57e4c12bf480ac0c17ba9292a31">&#9670;&nbsp;</a></span>AdiGenericStreamStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiGenericStreamStart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a register read/write stream, with options to trigger on a data ready. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of starting a generic stream.</dd></dl>
<p>This function kicks off a generic data stream by configuring interrupts, SPI, and end points. At the end of the function, the ADI_GENERIC_STREAM_ENABLE flag is set such that the generic streaming thread knows to start producing data. </p>

</div>
</div>
<a id="a44b20c4d8d2c75500c589779963ae8ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44b20c4d8d2c75500c589779963ae8ba">&#9670;&nbsp;</a></span>AdiPrintStreamState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyBool_t AdiPrintStreamState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function prints all the stream state variables to the terminal if VERBOSE_MODE is defined. </p>
<dl class="section return"><dt>Returns</dt><dd>A status code indicating if the print occurred (returns false if VERBOSE_MODE is not defined)</dd></dl>
<p>This function prints a significant amount of data, and as such is fairly slow in VERBOSE_MODE </p>

</div>
</div>
<a id="a4c55d5495a47d0c63b1e193b9f704b71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c55d5495a47d0c63b1e193b9f704b71">&#9670;&nbsp;</a></span>AdiRealTimeStreamFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiRealTimeStreamFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function cleans up resources allocated for a real time stream. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of the cancel operation.</dd></dl>
<p>This function cleans up after a real-time stream by resetting the SPI port, triggering the SYNC/RTS pin (if asked to do so), and notifying the host that the cancel operation was successful. </p>

</div>
</div>
<a id="a92f3cda6e0c22b4a59caa5a0f1c1bdd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f3cda6e0c22b4a59caa5a0f1c1bdd7">&#9670;&nbsp;</a></span>AdiRealTimeStreamStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiRealTimeStreamStart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a real time stream for ADcmXLx021 DUTs. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of starting a real-time stream.</dd></dl>
<p>This function kicks off a real-time stream by configuring interrupts, SPI, and end points. It also optionally toggles the SYNC/RTS pin if requested. At the end of the function, the bit assigned to enable the capture thread is toggled to signal the streaming thread to start producing data. </p>

</div>
</div>
<a id="a7befd6a3d6f0785d3ee11f37bef66c54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7befd6a3d6f0785d3ee11f37bef66c54">&#9670;&nbsp;</a></span>AdiStopAnyDataStream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiStopAnyDataStream </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets a flag to notify the streaming thread that the user requested to cancel streaming. </p>
<dl class="section return"><dt>Returns</dt><dd>A status code indicating the success of the function.</dd></dl>
<p>This function can be used to stop any stream operation. The variable KillStreamEarly is defined as volatile to prevent any compiler optimizations. </p>

</div>
</div>
<a id="a21bc8ca5ba28fea850189fd9cde3b210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21bc8ca5ba28fea850189fd9cde3b210">&#9670;&nbsp;</a></span>AdiTransferStreamFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiTransferStreamFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans up a protocol agnostic transfer stream. </p>
<dl class="section return"><dt>Returns</dt><dd>A status code indicating the success of the function.</dd></dl>
<p>Resets the streaming endpoint, destroys the DMA channel, and restores the interrupt source states to their standard operating condition. Must be explicitly invoked via a vendor command when all "buffers" or captured, or indirectly via a TransferStream cancel. </p>

</div>
</div>
<a id="ad691192687ea7f683ced5ecdc7d96386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad691192687ea7f683ced5ecdc7d96386">&#9670;&nbsp;</a></span>AdiTransferStreamStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiTransferStreamStart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a protocol agnostic SPI transfer stream. </p>
<dl class="section return"><dt>Returns</dt><dd>A status code indicating the success of the stream start.</dd></dl>
<p>This is used to implement the ISpi32Interface. The stream info is read in from EP0 into the USBBuffer. This includes stream parameters and the MOSI data. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae9953443991a0dc77f0fa3cc0b0576a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9953443991a0dc77f0fa3cc0b0576a6">&#9670;&nbsp;</a></span>EventHandler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PEvent EventHandler</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ADI event structure </p>

</div>
</div>
<a id="aadb5735a48942c795b3be33a17c14eb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadb5735a48942c795b3be33a17c14eb4">&#9670;&nbsp;</a></span>FX3State</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_board_state.html">BoardState</a> FX3State</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Struct. which stores all run time configurable FX3 settings </p>

</div>
</div>
<a id="a588a5b1b27013a3c880a0c031d6b7f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a588a5b1b27013a3c880a0c031d6b7f3a">&#9670;&nbsp;</a></span>KillStreamEarly</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile CyBool_t KillStreamEarly</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signal data stream thread to kill data capture early (True = kill thread signaled, False = allow execution) </p>

</div>
</div>
<a id="af72f4fb79889fd9a2a5ef1e62e72c738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af72f4fb79889fd9a2a5ef1e62e72c738">&#9670;&nbsp;</a></span>MemoryToSPI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PDmaChannel MemoryToSPI</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DMA channel for reading a memory location into a DMA consumer </p>

</div>
</div>
<a id="aeed44eef5876251be24e1b418ea64590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeed44eef5876251be24e1b418ea64590">&#9670;&nbsp;</a></span>SpiDmaBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PDmaBuffer_t SpiDmaBuffer</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DMA buffer structure for SPI transmit </p>

</div>
</div>
<a id="ae8aab9e931f1efc7d59b1fa758ee4454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8aab9e931f1efc7d59b1fa758ee4454">&#9670;&nbsp;</a></span>StreamingChannel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PDmaChannel StreamingChannel</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DMA channel for real time streaming (SPI to USB BULK-IN 0x81) </p>

</div>
</div>
<a id="a98693015cd59e2346ce44ac5af02a4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98693015cd59e2346ce44ac5af02a4c0">&#9670;&nbsp;</a></span>StreamThreadState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_stream_state.html">StreamState</a> StreamThreadState</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Struct of data used to synchronize the data streaming / app threads </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
