<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADI iSensor FX3 Firmware: C:/Users/anolan3/Documents/iSensor-FX3-API/firmware/FX3_Firmware/AppThread.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Analog-Devices-Logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADI iSensor FX3 Firmware
   &#160;<span id="projectnumber">v2.9.2-pub</span>
   </div>
   <div id="projectbrief">Firmware for the Analog Devices EVAL-ADIS-FX3 IMU Evaluation Platform. This firmware can be compiled using the Cypress EZ USB Suite IDE</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a6f5bf3126ac94fe2cad71d1f6aa3d6b.html">FX3_Firmware</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">AppThread.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains all functions associated with the AppThread.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_app_thread_8h_source.html">AppThread.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4fc7e043e5e43c3f8ff3e5442ae07fce"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_thread_8c.html#a4fc7e043e5e43c3f8ff3e5442ae07fce">AdiDebugInit</a> ()</td></tr>
<tr class="memdesc:a4fc7e043e5e43c3f8ff3e5442ae07fce"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the UART controller to send debug messages.  <a href="_app_thread_8c.html#a4fc7e043e5e43c3f8ff3e5442ae07fce">More...</a><br /></td></tr>
<tr class="separator:a4fc7e043e5e43c3f8ff3e5442ae07fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3b54121c11910b108b1699a3423b5db"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_thread_8c.html#ad3b54121c11910b108b1699a3423b5db">AdiAppInit</a> ()</td></tr>
<tr class="memdesc:ad3b54121c11910b108b1699a3423b5db"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the USB module and attaches core event handlers.  <a href="_app_thread_8c.html#ad3b54121c11910b108b1699a3423b5db">More...</a><br /></td></tr>
<tr class="separator:ad3b54121c11910b108b1699a3423b5db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c4109a6db8157f4223c93d326a0265"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_thread_8c.html#a35c4109a6db8157f4223c93d326a0265">AdiAppThreadEntry</a> (uint32_t input)</td></tr>
<tr class="memdesc:a35c4109a6db8157f4223c93d326a0265"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the entry point for the primary iSensors firmware application thread.  <a href="_app_thread_8c.html#a35c4109a6db8157f4223c93d326a0265">More...</a><br /></td></tr>
<tr class="separator:a35c4109a6db8157f4223c93d326a0265"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae9953443991a0dc77f0fa3cc0b0576a6"><td class="memItemLeft" align="right" valign="top">CyU3PEvent&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_thread_8c.html#ae9953443991a0dc77f0fa3cc0b0576a6">EventHandler</a></td></tr>
<tr class="separator:ae9953443991a0dc77f0fa3cc0b0576a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef75a5a8ae0f22711a396b4a41216fc1"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_thread_8c.html#aef75a5a8ae0f22711a396b4a41216fc1">serial_number</a> []</td></tr>
<tr class="separator:aef75a5a8ae0f22711a396b4a41216fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains all functions associated with the AppThread. </p>
<p>Copyright (c) Analog Devices Inc, 2018 - 2020 All Rights Reserved.</p>
<p>THIS SOFTWARE UTILIZES LIBRARIES DEVELOPED AND MAINTAINED BY CYPRESS INC. THE LICENSE INCLUDED IN THIS REPOSITORY DOES NOT EXTEND TO CYPRESS PROPERTY.</p>
<p>Use of this file is governed by the license agreement included in this repository.</p>
<dl class="section date"><dt>Date</dt><dd>8/1/2019 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>A. Nolan (<a href="#" onclick="location.href='mai'+'lto:'+'ale'+'x.'+'nol'+'an'+'@an'+'al'+'og.'+'co'+'m'; return false;">alex.<span style="display: none;">.nosp@m.</span>nola<span style="display: none;">.nosp@m.</span>n@ana<span style="display: none;">.nosp@m.</span>log.<span style="display: none;">.nosp@m.</span>com</a>) </dd>
<dd>
J. Chong (<a href="#" onclick="location.href='mai'+'lto:'+'jua'+'n.'+'cho'+'ng'+'@an'+'al'+'og.'+'co'+'m'; return false;">juan.<span style="display: none;">.nosp@m.</span>chon<span style="display: none;">.nosp@m.</span>g@ana<span style="display: none;">.nosp@m.</span>log.<span style="display: none;">.nosp@m.</span>com</a>) </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad3b54121c11910b108b1699a3423b5db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3b54121c11910b108b1699a3423b5db">&#9670;&nbsp;</a></span>AdiAppInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void AdiAppInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function initializes the USB module and attaches core event handlers. </p>
<p>This function is called as part of the main application thread (AppThread) startup process when the ThreadX RTOS first boots. This function also retrieves the unique FX3 serial number from the EFUSE array.</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a35c4109a6db8157f4223c93d326a0265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c4109a6db8157f4223c93d326a0265">&#9670;&nbsp;</a></span>AdiAppThreadEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AdiAppThreadEntry </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the entry point for the primary iSensors firmware application thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>Unused input argument required by the thread manager</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function performs device initialization and then handles streaming start/stop commands for the various streaming methods. The actual work done for the streaming is performed in the StreamThread - seperating the two allows for better control and responsiveness to cancellation commands. </p>

</div>
</div>
<a id="a4fc7e043e5e43c3f8ff3e5442ae07fce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc7e043e5e43c3f8ff3e5442ae07fce">&#9670;&nbsp;</a></span>AdiDebugInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void AdiDebugInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function initializes the UART controller to send debug messages. </p>
<p>This function is called as part of the main application thread startup process. The debug prints are routed to the UART and can be seen using a UART console running at 115200 baud rate. The UART Tx and Rx must be connected to DQ30 and DQ31 on the Cypress FX3 Explorer board. On the ADI iSensor FX3 Board (small board), the Rx and Tx are connected to pins 5 and 6 on the second 12 pin header.</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae9953443991a0dc77f0fa3cc0b0576a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9953443991a0dc77f0fa3cc0b0576a6">&#9670;&nbsp;</a></span>EventHandler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PEvent EventHandler</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ADI event structure </p>

</div>
</div>
<a id="aef75a5a8ae0f22711a396b4a41216fc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef75a5a8ae0f22711a396b4a41216fc1">&#9670;&nbsp;</a></span>serial_number</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char serial_number[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global char buffer to store unique FX3 serial number </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
